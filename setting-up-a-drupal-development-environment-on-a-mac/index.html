<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Joel Kitching"><link rel="shortcut icon" href=https://joelkitching.com/favicon.ico><link rel=stylesheet href=/css/style.min.css><link rel=canonical href=https://joelkitching.com/setting-up-a-drupal-development-environment-on-a-mac/><title>Setting up a Drupal development environment on a Mac</title></head><body><header id=banner><h2><a href=https://joelkitching.com/>Joel Kitching</a></h2><nav><ul><li><a href=/ title>posts</a></li><li><a href=/about/ title>about</a></li><li><a href=https://twitter.com/joelkitching title>twitter</a></li><li><a href=https://github.com/jkitching title>github</a></li><li><a href=https://www.linkedin.com/in/joelkitching title>linkedin</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Setting up a Drupal development environment on a Mac</h1><div><time>July 2, 2009</time></div></header><p>I am back at work full-time this summer at <a href=http://imagexmedia.com/>ImageX Media</a>, where I have been over the past two summers as well. It&rsquo;s a Mac shop. I don&rsquo;t use Macs. And since I always seem to forget the process of setting up an ideal development environment on a Mac, I have recorded it here.</p><ol><li><p>Install the wonderful <a href=http://www.mamp.info/en/downloads/index.html>MAMP</a> (the free version works just fine) in your <code>/Applications</code> directory.</p></li><li><p>If you want to have your local web server on port 80 instead of the default 8888, there is a small extra step. Open up the <code>/Applications/MAMP/conf/apache/httpd.conf</code> configuration file with your favourite editor (yes, I said favourite and not favorite). Look for a line that says <strong><code>Listen 8888</code></strong> (for me it is on line 219) and change the port to 80.</p></li><li><p>Now you can go ahead and start up the server. If you didn&rsquo;t change the port, feel free to use the Dashboard widget included in the MAMP directory (just double-click on it to install). If not, open up a terminal, change directories to <code>/Applications/MAMP/bin</code> and run <strong><code>sudo ./startApache.sh</code></strong> and <strong><code>sudo ./startMysql.sh</code></strong>.</p></li><li><p>If you&rsquo;re like me and use the command line a lot, you&rsquo;ll want to create a symlink to the MySQL binary so that you don&rsquo;t have to type in the full path every time you want to use it. Run these commands: <code>sudo ln -s /Applications/MAMP/Library/bin/mysql /usr/local/bin/mysql</code> and <code>sudo ln -s /Applications/MAMP/Library/bin/mysqldump /usr/local/bin/mysqldump</code>.</p></li><li><p>I found that the easiest way to develop multiple sites is to keep each one in a separate directory, and access each directory with a separate hostname. Add this line to the bottom of your <code>/etc/httpd.conf</code> file: <code>VirtualDocumentRoot /Users/yourname/Sites/%0/</code>.</p></li><li><p>Create directories in your vhosts location. For example, if I have three Drupal sites (site1, site2, site3) I would <code>mkdir ~/Sites/site{1,2,3}</code>.</p></li><li><p>For each directory you create in your Sites directory, make sure the hostname is pointing to localhost. Edit your <code>/etc/hosts</code> file to read: <code>127.0.0.1 localhost site1 site2 site3</code>.</p></li><li><p>Drupal uses a <em>lot</em> of memory. Especially with <strong><a href=http://drupal.org/project/imagecache>imagecache</a></strong>. Open up your php.ini file (<code>/Applications/MAMP/conf/php5/php.ini</code>) and fine the line that reads <code>memory_limit 8M</code> (for me line 232) and change the 8M to 96M to ensure you never receive any out-of-memory errors.</p></li><li><p>One last tweak. Unzip your Drupal site in <code>~/Sites/site1</code>. For pretty URLs to work you are going to need to make one little tweak. Open up the <code>.htaccess</code> file, and uncomment the line that reads <code>RewriteBase /</code> (line 103) if Drupal is found in your site&rsquo;s root directory, or change the path appropriately.</p></li></ol><p>And you&rsquo;re done! Now you can access your sites by going to <code>http://sites1/</code>, which points to localhost, gets accepted by Apache, which looks up <code>/Users/yourname/Sites/sites1</code>, finds that it exists, and runs the <code>index.php</code> file. Capiche? Virtual hosts are powerful indeed. Final details:</p><ul><li>By default, the MySQL username and password are both <code>root</code>.</li><li>To add a new site, create the directory, and add a corresponding entry in the <code>/etc/hosts</code> file. Simple.</li></ul><p>Now it&rsquo;s back to development for me.</p></article></main><footer id=footer>Copyright Â© 2022 Joel Isaac Stewart Davies-Kitching</footer></body></html>