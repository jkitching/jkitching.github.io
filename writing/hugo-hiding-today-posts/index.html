<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Joel Kitching"><link rel="shortcut icon" href=https://joelkitching.com/favicon.ico><link rel=stylesheet href=/css/style.min.css><link rel=canonical href=https://joelkitching.com/writing/hugo-hiding-today-posts/><title>Hugo hides posts marked with current date</title></head><body><header id=banner><h2><a href=https://joelkitching.com/>Joel Kitching</a></h2><nav><ul><li><a href=/ title>writing</a></li><li><a href=/about/ title>about</a></li><li><a href=https://github.com/jkitching title>github</a></li><li><a href=https://www.linkedin.com/in/joelkitching title>linkedin</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Hugo hides posts marked with current date</h1><div><time>June 5, 2024</time></div></header><p>I had uploaded a post marked with the current date to GitHub, which has an action set up to rebuild Hugo and post to GitHub&rsquo;s static page hosting. The post didn&rsquo;t show.</p><p>I assumed it was because their server was in a different timezone (e.g. PST) and was interpreting the dates as such. But then I loaded up a local server with <code>hugo server</code> and the post was not listed there either!</p><p>It turns out that Hugo has a setting in <code>config.toml</code> called <a href=https://gohugo.io/getting-started/configuration/#timezone><code>timeZone</code></a>.</p><p>According to an issue entitled <a href=https://github.com/gohugoio/hugo/issues/1882#issuecomment-195606655>Add proper timezone support</a> on Hugo&rsquo;s GitHub tracker:</p><blockquote><ol><li>If timzeone <em>[sic]</em> set in the datetime string: fine, use that</li><li>If timezone set in config (or in page frontmatter), use that</li><li>Else use UTC</li></ol></blockquote><p>Well, that&rsquo;s pretty clear. The post wasn&rsquo;t showing up because (a) I hadn&rsquo;t set a value for <code>timeZone</code>, and (b) it was still yesterday in UTC.</p><p>Adding a timezone has solved all of my woes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>timeZone</span> <span class=p>=</span> <span class=s2>&#34;Asia/Taipei&#34;</span>
</span></span></code></pre></div><h1 id=bonus-showing-future-dated-posts>Bonus: showing future-dated posts</h1><p>I almost never write multiple posts in a single day, so my frontmatter only includes the date with <code>YYYY-MM-DD</code> granularity. I would prefer to spread my posts out to at most one per day, so the solution that I opt for is to future date (e.g. second post of the day gets dated as tomorrow).</p><p>But future-dated posts are hidden by default! Perhaps that&rsquo;s a good idea for dynamically generated websites&mldr; but for something like Hugo, who is going to be sitting around rebuilding when those future dates arrive?</p><p>An easy hack is to add the <code>--buildFuture</code> argument when invoking <code>hugo</code>. After adding the flag to <code>.github/workflows/gh-pages.yaml</code> in this repository, all of my dedicated blog readers can now live in the future. =)</p></article></main><footer id=footer>Copyright © 2022–2024 Joel Isaac Stewart Davies-Kitching</footer></body></html>